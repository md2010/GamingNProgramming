
<div class="align-items-center spc-bottom spc-top spc-left" *ngIf="role === 'Student'">
    <button class="btn btn-primary spc-right" [disabled]="allFriends" (click)="setPlayers('friends')">Prikaži prijatelje</button>
    <button class="btn btn-primary spc-right" [disabled]="allPlayers" (click)="setPlayers('players')">Prikaži sve igrače</button>
    <button class="btn btn-primary" *ngIf="students && students.length > 0" [disabled]="allStudents" (click)="setPlayers('students')">Prikaži studente</button>
</div>
      
<div class="align-items-center spc-top spc-left">
<table class="table table-striped" *ngIf="loaded">
    <thead>
      <tr *ngIf="players.length == 0">Nema rezultata</tr>
      <tr *ngIf="players.length > 0">
        <th scope="col"></th>
        <th scope="col"></th>
        <th scope="col">Korisničko ime</th>
        <th scope="col">Bodovi</th>
        <th scope="col">Ukupno vrijeme izvršavanja [ms]</th>
        <th scope="col">XPs</th>
        <th scope="col">Značke</th>
      </tr>
    </thead>
    <tbody *ngIf="players.length > 0">
      <tr *ngFor="let p of players; let i = index;" [ngClass]="{ 'me' : p.userId === userId}">
        <td>{{i + 1}}</td>
        <td><img src={{p?.avatar?.path}} class="rounded-circle center" width="70px" height="60px"></td>
        <td>{{p?.username}}</td>
        <td class="points">{{allStudents ? p.points : p.defaultPoints}} 
            <img *ngIf="i == 0 && (p.defaultPoints > 0 || p.points > 0)" class="gold-medal" src="https://github.com/malunaridev/Challenges-iCodeThis/blob/master/4-leaderboard/assets/gold-medal.png?raw=true" alt="gold medal"/>
        </td>
        <td>{{allStudents ? p?.timeConsumed : p.defaultTimeConsumed}}</td>
        <td>{{p?.xPs}}</td>
        <td>
          <div *ngFor="let el of p?.badges" style="display:inline">
            <img src="{{el.path}}" width="65px" height="55px" style="margin-left: 5px;">
          </div>
        </td>
      </tr>     
    </tbody>
  </table>
  <p *ngIf="role === 'Student'">*<i>Na ovoj ljestvici prikazani su bodovi prikupljeni na {{allStudents ? 'profesorovim' : 'osnovnim'}} mapama.</i></p>
  </div>



